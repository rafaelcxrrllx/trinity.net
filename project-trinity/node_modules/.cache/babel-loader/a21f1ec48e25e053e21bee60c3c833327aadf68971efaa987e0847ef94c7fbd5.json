{"ast":null,"code":"export function startCanvasAnimation() {\n  (function () {\n    var requestAnimationFrame = window.requestAnimationFrame || window.mozRequestAnimationFrame || window.webkitRequestAnimationFrame || window.msRequestAnimationFrame || function (callback) {\n      window.setTimeout(callback, 1000 / 60);\n    };\n    window.requestAnimationFrame = requestAnimationFrame;\n  })();\n\n  // Terrain stuff.\n  var terrain = document.getElementById(\"terCanvas\"),\n    background = document.getElementById(\"bgCanvas\"),\n    terCtx = terrain.getContext(\"2d\"),\n    bgCtx = background.getContext(\"2d\"),\n    width = window.innerWidth,\n    height = document.body.offsetHeight;\n  if (height < 20) {\n    height = 20;\n  }\n  terrain.style.pointerEvents = 'none';\n  terrain.width = background.width = width;\n  terrain.height = background.height = height;\n  terrain.style.zIndex = '1';\n\n  // Some random points\n  var points = [],\n    displacement = 144,\n    power = Math.pow(2, Math.ceil(Math.log(width) / Math.log(2)));\n\n  // set the start height and end height for the terrain\n  points[0] = height - Math.random() * height / 9 - displacement;\n  points[power] = height - Math.random() * height / 9 - displacement;\n\n  // create the rest of the points\n  for (var i = 1; i < power; i *= 2) {\n    for (var j = power / i / 2; j < power; j += power / i) {\n      points[j] = (points[j - power / i / 2] + points[j + power / i / 2]) / 2 + Math.floor(Math.random() * -displacement + displacement);\n    }\n    displacement *= 0.6;\n  }\n\n  // draw the terrain\n  terCtx.beginPath();\n  for (i = 0; i <= width; i++) {\n    if (i === 0) {\n      terCtx.moveTo(0, points[0]);\n    } else if (points[i] !== undefined) {\n      terCtx.lineTo(i, points[i]);\n    }\n  }\n  terCtx.lineTo(width, terrain.height);\n  terCtx.lineTo(0, terrain.height);\n  terCtx.lineTo(0, points[0]);\n  terCtx.fill();\n\n  // Second canvas used for the stars\n  bgCtx.fillStyle = '#191970'; //Sky\n  bgCtx.fillRect(0, 0, width, height);\n\n  // stars\n  function Star(options) {\n    this.size = Math.random() * 1.2;\n    this.speed = Math.random() * 0;\n    this.x = options.x;\n    this.y = options.y;\n  }\n  Star.prototype.reset = function () {\n    this.size = Math.random() * 2;\n    this.speed = Math.random() * .1;\n    this.x = width;\n    this.y = Math.random() * height;\n  };\n  Star.prototype.update = function () {\n    this.x -= this.speed;\n    if (this.x < 0) {\n      this.reset();\n    } else {\n      bgCtx.fillRect(this.x, this.y, this.size, this.size);\n    }\n  };\n  function ShootingStar() {\n    this.reset();\n  }\n  ShootingStar.prototype.reset = function () {\n    this.x = Math.random() * width;\n    this.y = 0;\n    this.len = Math.random() * 80 + 10;\n    this.speed = Math.random() * 10 + 12;\n    this.size = Math.random() * 1 + 0.1;\n    // this is used so the shooting stars arent constant\n    this.waitTime = new Date().getTime() + Math.random() * 3000 + 500;\n    this.active = false;\n  };\n  ShootingStar.prototype.update = function () {\n    if (this.active) {\n      this.x -= this.speed;\n      this.y += this.speed;\n      if (this.x < 0 || this.y >= height) {\n        this.reset();\n      } else {\n        bgCtx.lineWidth = this.size;\n        bgCtx.beginPath();\n        bgCtx.moveTo(this.x, this.y);\n        bgCtx.lineTo(this.x + this.len, this.y - this.len);\n        bgCtx.stroke();\n      }\n    } else {\n      if (this.waitTime < new Date().getTime()) {\n        this.active = true;\n      }\n    }\n  };\n  var entities = [];\n\n  // init the stars\n  for (i = 0; i < height / 10; i++) {\n    entities.push(new Star({\n      x: Math.random() * width,\n      y: Math.random() * height\n    }));\n  }\n\n  // Add 12 shooting stars that just cycle.\n  entities.push(new ShootingStar());\n  entities.push(new ShootingStar());\n  entities.push(new ShootingStar());\n  entities.push(new ShootingStar());\n  entities.push(new ShootingStar());\n  entities.push(new ShootingStar());\n  entities.push(new ShootingStar());\n\n  //animate background\n  function animate() {\n    bgCtx.fillStyle = '#191970';\n    bgCtx.fillRect(0, 0, width, height);\n    bgCtx.fillStyle = '#ffffff';\n    bgCtx.strokeStyle = '#ffffff';\n    var entLen = entities.length;\n    while (entLen--) {\n      entities[entLen].update();\n    }\n    requestAnimationFrame(animate);\n  }\n  animate();\n}","map":{"version":3,"names":["startCanvasAnimation","requestAnimationFrame","window","mozRequestAnimationFrame","webkitRequestAnimationFrame","msRequestAnimationFrame","callback","setTimeout","terrain","document","getElementById","background","terCtx","getContext","bgCtx","width","innerWidth","height","body","offsetHeight","style","pointerEvents","zIndex","points","displacement","power","Math","pow","ceil","log","random","i","j","floor","beginPath","moveTo","undefined","lineTo","fill","fillStyle","fillRect","Star","options","size","speed","x","y","prototype","reset","update","ShootingStar","len","waitTime","Date","getTime","active","lineWidth","stroke","entities","push","animate","strokeStyle","entLen","length"],"sources":["/Users/rafaelcarrillomunoz/Documents/GitHub/trinity.net/project-trinity/src/CanvasAnimation.jsx"],"sourcesContent":["export function startCanvasAnimation() {\n    (function() {\n        var requestAnimationFrame = window.requestAnimationFrame || window.mozRequestAnimationFrame || \n                                      window.webkitRequestAnimationFrame || window.msRequestAnimationFrame || function( callback ){\n                    window.setTimeout(callback, 1000 / 60);\n                  };\n          window.requestAnimationFrame = requestAnimationFrame;\n        })();\n    \n        // Terrain stuff.\n        var terrain = document.getElementById(\"terCanvas\"),\n            background = document.getElementById(\"bgCanvas\"),\n            terCtx = terrain.getContext(\"2d\"),\n            bgCtx = background.getContext(\"2d\"),\n            width = window.innerWidth,\n            height = document.body.offsetHeight;\n            if (height < 20) {\n                height = 20;\n            }\n    \n        terrain.style.pointerEvents = 'none';\n        terrain.width = background.width = width;\n        terrain.height = background.height = height;\n        terrain.style.zIndex = '1';\n    \n        // Some random points\n        var points = [],\n            displacement = 144,\n            power = Math.pow(2,Math.ceil(Math.log(width)/(Math.log(2))));\n        \n        // set the start height and end height for the terrain\n        points[0] = (height - (Math.random()*height/9))-displacement;\n        points[power] = (height - (Math.random()*height/9))-displacement;\n    \n        // create the rest of the points\n        for(var i = 1; i<power; i*=2){\n            for(var j = (power/i)/2; j <power; j+=power/i){\n                points[j] = ((points[j - (power/i)/2] + points[j + (power/i)/2]) / 2) + Math.floor(Math.random()*-displacement+displacement );\n            }\n            displacement *= 0.6;\n        }\n    \n        // draw the terrain\n        terCtx.beginPath();\n                        \n        for(i = 0; i<=width; i++){\n            if(i === 0){\n                terCtx.moveTo(0, points[0]);\n            }else if(points[i] !== undefined){\n                terCtx.lineTo(i, points[i]);\n            }\n        }\n    \n        terCtx.lineTo(width,terrain.height);\n        terCtx.lineTo(0,terrain.height);\n        terCtx.lineTo(0,points[0]);\n        terCtx.fill();\n    \n    \n        // Second canvas used for the stars\n        bgCtx.fillStyle = '#191970'; //Sky\n        bgCtx.fillRect(0,0,width,height);\n    \n        // stars\n        function Star(options){\n            this.size = Math.random()*1.2;\n            this.speed = Math.random()*0;\n            this.x = options.x;\n            this.y = options.y;\n        }\n    \n        Star.prototype.reset = function(){\n            this.size = Math.random()*2;\n            this.speed = Math.random()*.1;\n            this.x = width;\n            this.y = Math.random()*height;\n        }\n        \n        Star.prototype.update = function(){\n            this.x-=this.speed;\n            if(this.x<0){\n              this.reset();\n            }else{\n              bgCtx.fillRect(this.x,this.y,this.size,this.size); \n            }\n        }\n        \n        function ShootingStar(){\n            this.reset();\n        }\n        \n        ShootingStar.prototype.reset = function(){\n            this.x = Math.random()*width;\n            this.y = 0;\n            this.len = (Math.random()*80)+10;\n            this.speed = (Math.random()*10)+12;\n            this.size = (Math.random()*1)+0.1;\n        // this is used so the shooting stars arent constant\n            this.waitTime =  new Date().getTime() + (Math.random()*3000)+500;\n            this.active = false;\n        }\n        \n        ShootingStar.prototype.update = function(){\n            if(this.active){\n                this.x-=this.speed;\n                this.y+=this.speed;\n                if(this.x<0 || this.y >= height){\n                  this.reset();\n                }else{\n                bgCtx.lineWidth = this.size;\n                    bgCtx.beginPath();\n                    bgCtx.moveTo(this.x,this.y);\n                    bgCtx.lineTo(this.x+this.len, this.y-this.len);\n                    bgCtx.stroke();\n                }\n            }else{\n                if(this.waitTime < new Date().getTime()){\n                    this.active = true;\n                }\t\t\t\n            }\n        }\n    \n        var entities = [];\n        \n        // init the stars\n        for(i=0; i < height/10; i++){\n            entities.push(new Star({x:Math.random()*width, y:Math.random()*height}));\n        }\n      \n        // Add 12 shooting stars that just cycle.\n        entities.push(new ShootingStar());\n        entities.push(new ShootingStar());\n        entities.push(new ShootingStar());\n        entities.push(new ShootingStar());\n        entities.push(new ShootingStar());\n        entities.push(new ShootingStar());\n        entities.push(new ShootingStar());\n        \n        \n        //animate background\n        function animate(){\n            bgCtx.fillStyle = '#191970';\n            bgCtx.fillRect(0,0,width,height);\n            bgCtx.fillStyle = '#ffffff';\n            bgCtx.strokeStyle = '#ffffff';\n    \n            var entLen = entities.length;\n          \n            while(entLen--){\n                entities[entLen].update();\n            }\n            \n            requestAnimationFrame(animate);\n        }\n        animate();\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}